<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>
    <style>
        body { 
            background: #000000; 
            padding: 20px; 
            font-family: monospace; 
            color: #e2e8f0; 
        }
        .chart-container { 
            position: relative; 
            width: 100%; 
            max-width: 900px; 
            height: 500px; 
            margin: 0 auto; 
        }
        .download-btn { 
            position: absolute; 
            top: 10px; 
            right: 10px; 
            background: rgba(255, 215, 0, 0.2); 
            border: 1px solid rgba(255, 215, 0, 0.5); 
            color: #FFD700; 
            padding: 8px 16px; 
            border-radius: 6px; 
            cursor: pointer; 
            font-size: 12px; 
            z-index: 1000; 
        }
        .download-btn:hover {
            background: rgba(255, 215, 0, 0.4);
        }
    </style>
</head>
<body>
    <button class="download-btn" onclick="downloadChart()">ðŸ“¥ Download PNG</button>
    <div class="chart-container">
        <canvas id="myChart"></canvas>
    </div>
    <script>
        const ctx = document.getElementById('myChart');
        const config = {
            "type": "line",
            "data": {
                "labels": ["2025-01", "2025-02", "2025-03", "2025-04", "2025-05", "2025-06", "2025-07", "2025-08", "2025-09", "2025-10", "2025-11", "2025-12"],
                "datasets": [{
                    "label": "Precio (USD/oz)",
                    "data": [2035, 2055, 2065, 2075, 2090, 2070, 2080, 2060, 2040, 2050, 2070, 2085],
                    "backgroundColor": "rgba(255, 215, 0, 0.2)",
                    "borderColor": "rgba(255, 215, 0, 1)",
                    "borderWidth": 3,
                    "fill": true,
                    "tension": 0.3,
                    "pointBackgroundColor": "rgba(255, 215, 0, 1)",
                    "pointBorderColor": "#FFFFFF",
                    "pointBorderWidth": 2,
                    "pointRadius": 5,
                    "pointHoverRadius": 8
                }]
            },
            "options": {
                "responsive": true,
                "maintainAspectRatio": false,
                "plugins": {
                    "title": {
                        "display": true,
                        "text": "EvoluciÃ³n del Precio del Oro - 2025",
                        "color": "#FFD700",
                        "font": {"size": 20, "weight": "bold"}
                    },
                    "legend": {
                        "labels": {"color": "#e2e8f0"}
                    },
                    "tooltip": {
                        "backgroundColor": "rgba(0, 0, 0, 0.95)",
                        "titleColor": "#FFD700",
                        "bodyColor": "#e2e8f0",
                        "borderColor": "#FFD700",
                        "borderWidth": 2,
                        "titleFont": {"size": 14, "weight": "bold"},
                        "bodyFont": {"size": 13}
                    }
                },
                "scales": {
                    "x": {
                        "display": true,
                        "title": {"display": true, "text": "Fecha", "color": "#e2e8f0"},
                        "ticks": {"color": "#94a3b8"},
                        "grid": {"color": "rgba(255, 255, 255, 0.1)"}
                    },
                    "y": {
                        "display": true,
                        "title": {"display": true, "text": "Precio (USD/oz)", "color": "#e2e8f0"},
                        "ticks": {"color": "#94a3b8"},
                        "grid": {"color": "rgba(255, 255, 255, 0.1)"}
                    }
                }
            }
        };
        
        // Add zoom and pan capabilities
        config.options.plugins.zoom = {
            zoom: {
                wheel: { enabled: true },
                pinch: { enabled: true },
                mode: 'xy'
            },
            pan: {
                enabled: true,
                mode: 'xy'
            }
        };
        
        const myChart = new Chart(ctx, config);
        
        function downloadChart() {
            const canvas = document.getElementById('myChart');
            const url = canvas.toDataURL('image/png');
            const a = document.createElement('a');
            a.href = url;
            a.download = 'Evolucion_del_Precio_del_Oro_2025.png';
            a.click();
        }
    </script>
</body>
</html>